<!-- this_is_fine/this_is_fine/templates/dynamic_map.html -->

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Leaflet Test</title>

    <!-- Leaflet CSS from CDN -->
    <link rel="stylesheet" 
          href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-oAwQKC+WpHdChKN3bm9ALPhQshUVr9TTzZp5CviUxx0="
          crossorigin=""/>
          
    <!-- Leaflet JS from CDN -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-QV4PxOJOg1XRdTftgdRQHK9KOgOc18uQdPPhdXV1LUU="
            crossorigin=""></script>

    <style>
      /* Must give the map a visible height or you see nothing */
      #map {
        width: 100%;
        height: 600px;
      }
    </style>
</head>
<body>

    <h1>Leaflet Map Test</h1>
    <div id="map"></div>

    <script>
      document.addEventListener("DOMContentLoaded", function() {
        // Create a map centered on Montreal
        const map = L.map('map').setView([45.5017, -73.5673], 12);

        // Add a tile layer (OpenStreetMap)
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          maxZoom: 19,
          attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        // Add a sample marker
        L.marker([45.5017, -73.5673])
          .addTo(map)
          .bindPopup("Hello Montreal!");
      });
    </script>

</body>
</html>